#pragma strict
// [google(credits to bryan for keeping this not DRY), YEARMONTHDAY,CLOSE, (closing - opening)] 


var data = [[20150619,536,-0.5200199999999313],[20150618,536,5.729979999999955],[20150617,529,-0.10998500000005151],[20150616,528,-0.25],[20150615,527,-0.7999879999999848],[20150612,532,0.7300410000000284],[20150611,534,-3.8150029999999333],[20150610,536,7.330016999999998],[20150609,526,-0.869995999999901],[20150608,526,-6.4799809999999525],[20150605,533,-3.0199589999999716],[20150604,536,-1.0599979999999505],[20150603,540,0.40002499999991414],[20150602,539,6.25],[20150601,533,-2.799987999999985],[20150529,532,-5.260009999999966],[20150528,539,1.7700190000000475],[20150527,539,6.989990000000034],[20150526,532,-5.799987999999985],[20150522,540,-0.04003899999997884],[20150521,542,4.5599979999999505],[20150520,539,0.7800300000000107],[20150519,537,3.3800050000000965],[20150518,532,0.28997800000001916],[20150515,533,-5.330016999999998],[20150514,538,4.630003999999985],[20150513,529,-0.9400029999999333],[20150512,529,-2.5599979999999505],[20150511,535,-2.669983000000002],[20150508,538,1.5699469999999565],[20150507,530,6.710021999999981],[20150506,524,-7.0200190000000475],[20150505,530,-7.410033999999996],[20150504,540,2.25],[20150501,537,-0.5299689999999373],[20150430,537,-10.529968000000054],[20150429,549,-1.3899539999999888],[20150428,553,-0.9600219999999808],[20150427,555,-8.020019999999931],[20150424,565,-1.039961000000062],[20150423,547,6.00003700000002],[20150422,539,4.965032000000065],[20150421,533,-3.5400430000000824],[20150420,535,9.780056000000059],[20150417,524,-4.609993000000031],[20150416,533,3.8999769999999216],[20150415,532,3.830022999999983],[20150414,530,-5.86000399999989],[20150413,539,0.7600190000000566],[20150410,540,-2.2799340000000257],[20150409,540,-0.25001399999996465],[20150408,541,3.2299889999999323],[20150407,537,-1.0599750000000085],[20150406,536,4.545056999999929],[20150402,535,-5.319949000000065],[20150401,542,-6.040001999999959],[20150331,548,-1.9999920000000202],[20150330,552,0.4099989999999707],[20150327,548,-4.659996999999976],[20150326,555,-2.420028000000002],[20150325,558,-11.71511200000009],[20150324,570,7.630055999999968],[20150323,558,-1.6200440000000071],[20150320,560,-1.290036999999984],[20150319,557,-1.4000189999999293],[20150318,559,7.00003300000003],[20150317,550,-0.870001000000002],[20150316,554,3.5599950000000717],[20150313,547,-6.180033999999978],[20150312,555,1.9999920000000202],[20150311,551,-3.960017999999991],[20150310,555,-9.240001000000007],[20150309,568,1.9900160000000824],[20150306,567,-7.195024999999987],[20150305,575,0.3099930000000768],[20150304,573,1.5000249999999369],[20150303,573,3.1900229999999965],[20150302,571,10.810041999999953],[20150227,558,4.160089999999968],[20150226,555,12.270039999999995],[20150225,543,7.970038999999929],[20150224,536,6.090005000000019],[20150223,531,-4.140017000000057],[20150220,538,-4.180042999999955],[20150219,542,4.830018999999993],[20150218,539,-1.7000360000000683],[20150217,542,-3.9900069999999914],[20150213,549,5.660054000000059],[20150212,542,5.680067000000008],[20150211,535,0.6699889999999868],[20150210,536,7.640033000000017],[20150209,527,-0.16996000000006006],[20150206,531,3.359984000000054],[20150205,527,3.790057000000047],[20150204,522,-6.480051000000003],[20150203,529,1.2400339999999233],[20150202,528,-3.250001999999995],[20150130,534,18.660123],[20150129,510,-0.33998200000002043],[20150128,510,-12.780104999999992],[20150127,518,-11.33999899999992],[20150126,535,-3.3200180000000046],[20150123,539,4.359980000000064],[20150122,534,12.910101000000054],[20150121,518,10.790029000000061],[20150120,506,-4.100019000000032],[20150116,508,8.070015000000012],[20150115,501,-3.780019999999979],[20150114,500,6.220030000000008],[20150113,496,-2.6600050000000124],[20150112,492,-2.390038000000004],[20150109,496,-8.590025999999966],[20150108,502,4.690017000000012],[20150107,501,-5.900031000000013],[20150106,501,-13.040095999999949],[20150105,513,-9.390071000000034],[20150102,524,-4.199994999999944],[20141231,526,-4.850032000000056],[20141230,530,2.329998000000046],[20141229,530,-1.8600199999999631],[20141226,534,5.260032000000024],[20141224,528,-1.740002000000004],[20141223,530,3.5900459999999157],[20141222,524,8.790035999999986],[20141219,516,4.839994999999988],[20141218,511,-1.8500139999999305],[20141217,504,7.890046999999981],[20141216,495,-16.17004800000001],[20141215,513,-8.940045000000055],[20141212,518,-4.850093000000015],[20141211,528,0.5400549999999384],[20141210,526,-7.020045999999979],[20141209,533,11.230077999999935],[20141208,526,-0.15000900000006823],[20141205,525,-5.740046000000007],[20141204,537,6.150044999999977],[20141203,531,-0.12001999999995405],[20141202,533,0.23997699999995348],[20141201,533,-5.100047000000018],[20141128,541,1.2100450000000365],[20141126,540,-0.510065999999938],[20141125,541,2.080045000000041],[20141124,539,1.61998200000005],[20141121,537,-4.1100269999999455],[20141120,534,3.580009000000018],[20141119,536,1.9900160000000824],[20141118,535,-2.4699699999999893],[20141117,536,-7.069986999999969],[20141114,544,-2.279935000000023],[20141113,545,-4.419958000000065],[20141112,547,-3.0800420000000486],[20141111,550,1.7999810000000025],[20141110,547,6.029965000000061],[20141107,541,-5.200052000000028],[20141106,542,-3.459989999999948],[20141105,545,-10.880057999999963],[20141104,554,1.109976999999958],[20141103,555,-0.280065000000036],[20141031,559,-0.26996599999995397],[20141030,550,1.3599919999999202],[20141029,549,-0.6699280000000272],[20141028,548,5.900031000000013],[20141027,540,3.7400550000000976],[20141024,539,-4.580004000000031],[20141023,543,4.659935999999902],[20141022,532,2.8199900000000753],[20141021,526,1.3500159999999823],[20141020,520,11.390092999999979],[20141017,511,-16.08005000000003],[20141016,524,5.510044999999991],[20141015,530,-0.97998199999995],[20141014,537,-0.9600299999999606],[20141013,533,-11.779987000000006],[20141010,544,-13.230007999999998],[20141009,560,-10.299976000000015],[20141008,572,6.93001599999991],[20141007,563,-10.66009500000007],[20141006,577,-1.4499600000000328],[20141003,575,2.229993000000036],[20141002,570,2.770048000000088],[20141001,568,-7.740038000000027],[20140930,577,0.4300119999999197],[20140929,576,4.609993999999915],[20140926,577,1.0399620000000596],[20140925,575,-12.490064999999959],[20140924,587,6.52999299999999],[20140923,581,-5.719971999999984],[20140922,587,-6.450062000000003],[20140919,596,4.580003999999917],[20140918,589,2.270020000000045],[20140917,584,4.760064000000057],[20140916,579,7.190067999999997],[20140915,573,0.15998500000000604],[20140912,575,-5.380050000000097],[20140911,581,0.9899589999999989],[20140910,583,1.600029999999947],[20140909,581,-7.890108000000055],[20140908,589,3.1200059999999894],[20140905,586,2.1000589999999875],[20140904,581,1.97997799999996],[20140903,577,-2.0600319999999783],[20140902,577,5.480117000000064],[20140829,571,0.2699049999999943],[20140828,569,-0.35999600000002374],[20140827,571,-6.270064999999931],[20140826,577,-3.400009999999952],[20140825,580,-4.5199649999999565],[20140822,582,-1.0300469999999677],[20140821,583,-0.4499640000000227],[20140820,584,-1.390041999999994],[20140819,586,1.8600210000000743],[20140818,582,6.05003899999997],[20140815,573,-4.38005499999997],[20140814,574,-1.5299529999999777],[20140813,574,7.470072000000073],[20140812,562,-1.790004999999951],[20140811,567,-2.110033999999928],[20140808,568,5.210089999999923],[20140807,563,-4.640044999999986],[20140806,566,4.59402],[20140805,565,-4.97996599999999],[20140804,573,4.110087999999905],[20140801,566,-4.329990000000066],[20140731,571,-9.00008600000001],[20140730,587,0.8700000000000045],[20140729,585,-3.1400200000000495],[20140728,590,2.5299479999999903],[20140725,589,-1.3800049999999828],[20140724,593,-3.100054],[20140723,595,2.750033999999914],[20140722,594,4.019996999999989],[20140721,589,-2.2800569999999425],[20140718,595,2.0799840000000813],[20140717,573,-5.800085999999965],[20140716,582,-5.340083999999933],[20140715,584,-0.959969000000001],[20140714,584,2.270018999999934],[20140711,579,7.270059999999944],[20140710,571,5.190015000000017],[20140709,576,4.5000740000000405],[20140708,571,-6.5700199999999995],[20140707,582,-1.5100009999999884],[20140703,584,1.3800670000000537],[20140702,582,-1.0149289999999382],[20140701,582,4.350004000000013],[20140630,575,-3.379997000000003],[20140627,577,0.06003999999995813],[20140626,576,-5.00004100000001],[20140625,578,13.390055000000075],[20140624,564,-0.5699839999999767],[20140623,564,9.800070000000005],[20140620,556,-0.4899920000000293],[20140619,554,0.6600740000000087],[20140618,553,8.510033000000021],[20140617,543,-1.1900309999999763],[20140616,544,-4.980027000000064],[20140613,551,-0.4999670000000833],[20140612,551,-5.950032999999962],[20140611,558,0.8400120000000015],[20140610,560,0.0399649999999383],[20140609,562,4.9699900000000525],[20140606,556,-1.7299639999999954],[20140605,553,7.50006099999996],[20140604,544,3.159971999999925],[20140603,544,-6.0499790000000075],[20140602,553,-6.770092999999974],[20140530,559,-0.9099669999999378],[20140529,560,-3.270014999999944],[20140528,561,-2.890068000000042],[20140527,565,9.950079000000073],[20140523,552,5.440029999999979],[20140522,545,3.930027999999993],[20140521,538,6.040002999999956],[20140520,529,0.030049999999960164],[20140519,528,9.16000900000006],[20140516,520,-0.7600180000000591],[20140515,519,-5.720033000000058],[20140514,526,-6.349994999999922],[20140513,533,2.2000040000000354],[20140512,529,6.409975000000031],[20140509,518,7.979984000000002],[20140508,511,2.540016000000037],[20140507,509,-5.830014000000062],[20140506,515,-10.090049000000022],[20140505,527,2.990011000000095],[20140502,527,-5.830015000000003],[20140501,531,4.240022000000067],[20140430,526,-0.9399550000000545],[20140429,527,10.800066000000015],[20140428,517,-0.029989000000000487],[20140425,516,-6.330042999999932],[20140424,525,-4.91001099999994],[20140423,526,-6.850023999999962],[20140422,534,6.169997999999964],[20140421,528,-7.47998599999994],[20140417,536,-12.710090000000037],[20140416,556,13.540002000000072],[20140415,536,-0.3800099999999702],[20140414,532,-5.7300089999999955],[20140411,530,-1.9499889999999596],[20140410,540,-24.05014899999992],[20140409,564,4.520025000000032],[20140408,554,12.300089999999955],[20140407,538,-2.589988999999946],[20140404,543,-31.510182999999984],[20140403,569,-0.1099819999999454],[20140402,567,-32.990133000000014],[20140401,567,8.44999299999995],[20140331,556,-9.920089000000075],[20140328,559,-1.2100449999999228],[20140327,558,-9.54001900000003]];


//var particleCount : int = data.length;
var myParticleSystem : ParticleSystem; 
var myParticles: ParticleSystem.Particle[];
var prevpos : Vector3; 
var line : LineRenderer; 
var text : GameObject; 


function Start () {
 	 myParticleSystem = GetComponent(ParticleSystem);
 	 line = GetComponent(LineRenderer);
 	 line.SetVertexCount(data.Length+1);
 
 	 
 	
 	
 	 
     myParticleSystem.startColor = new Color32(Mathf.Round(Random.Range(0,255)),Mathf.Round(Random.Range(0,255)),Mathf.Round(Random.Range(0,255)),255);
     myParticleSystem.Emit(data.Length);
     myParticleSystem.startSpeed = 0;
    
     myParticles = new ParticleSystem.Particle[data.length + 1];
     myParticleSystem.GetParticles(myParticles);


     for(var i = 0 ; i < data.Length; i++){
     	//Vector3 is (position of stock in general, value, time) 
     	//prevpos = (i < 1) ? new Vector3(0,0,0) : new Vector3(0, data[i][2], i-
        
 
        
       	var newPosition = new Vector3(0, data[i][2], i ); // (0,-0.52, 0) (0,x,1)
     	line.SetPosition(i, Vector3(0, data[i][2], -i )); 
     	Instantiate(text, newPosition, Quaternion.identity); 
     	
     	var text = GetComponent(GUIText);
//     	text.text = "testing";
     	//text.text = "swag";
     	
     	// Vector3.Distance(object1.transform.position, object 2 transform.position ); 
     	// also, face the camera 
     	
     	if (data[i][2] < 0){
     		line.SetColors(Color.red, Color.green);
     	}else{
     		Debug.Log("LINE IS POSITIVE!!!");
     		line.SetColors(Color.green, Color.green);
     	}
     	
     	      
     	// if data[i][2] is negative 
     	// make that line's color red 
     	//else, make it green 
     	
     	 	
     	 	 	 	
     	
//     	line.SetPosition(i,prevpos);
        myParticles[i].position = newPosition;
        myParticleSystem.SetParticles(myParticles, data.Length);
     }
     myParticleSystem.Pause();
}


